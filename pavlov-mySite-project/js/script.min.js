"use strict";for(var arrowl=document.querySelector(".arrow_left"),arrowr=document.querySelector(".arrow_right"),hor=document.querySelector(".horizontal"),allver=document.querySelector(".allvertical"),ver=document.querySelectorAll(".vertical"),horbut=document.querySelectorAll(".horizontal__button"),group=document.querySelectorAll(".group"),tapfield=document.querySelectorAll(".tapfield"),main=document.querySelector(".main"),verbut=[],info=[],i=0;i<ver.length;i++)verbut[i]=ver[i].querySelectorAll(".vertical__button");for(var _i=0;_i<group.length;_i++)info[_i]=group[_i].querySelectorAll(".info");var horleftpos,allverleftpos,horlefttrans,allverlefttrans,hortoppos,allvertoppos,vertoptrans,hind=0,vind=[0,0,0,0,0,0,0,0,0,0,0,0],scroll=!0,flip=0,vw=window.innerWidth,vh=window.innerHeight;function Resize(){vw=window.innerWidth,vh=window.innerHeight,vw<768?(horleftpos=0,allverleftpos=0,horlefttrans=vw,allverlefttrans=150,hortoppos=30,allvertoppos=100,vertoptrans=100):(horleftpos=.3*vw,allverleftpos=.3*vw,horlefttrans=150,allverlefttrans=150,hortoppos=.3*vh,allvertoppos=.3*vh,vertoptrans=100),Htrans(),Vtrans()}Resize(),window.addEventListener("resize",Resize);for(var _i2=0;_i2<horbut.length;_i2++)horbut[_i2].addEventListener("click",Hclick,!1);for(var _i3=0;_i3<ver.length;_i3++)for(var j=0;j<verbut[_i3].length;j++)verbut[_i3][j].addEventListener("click",Vclick,!1);function Hclick(){for(var e=0;e<horbut.length;e++)this==horbut[e]&&(hind=e);Htrans(),console.log(hind+":"+vind[hind]+" - Hclick")}function Vclick(e){if(isClick)if(this!==verbut[hind][vind[hind]]){e.preventDefault();for(var t=0;t<verbut[hind].length;t++)this==verbut[hind][t]&&(vind[hind]=t);Vtrans(),console.log(hind+":"+vind[hind]+" - Vclick")}else if(!this.classList.contains("typenoclick")&&!this.classList.contains("typelink"))if(this.classList.contains("typeflip")){var i=this.querySelectorAll(".flip");0==flip?(flip=1,i[0].style.transform="rotateY(180deg)",i[1].style.transform="rotateY(360deg)"):(flip=0,i[0].style.transform="rotateY(0deg)",i[1].style.transform="rotateY(180deg)"),this.classList.contains("colortheme")&&(0==flip&&(document.body.style.background="linear-gradient(#000 0%, #b33939 40%, #b33939 60%, #000 100%)"),1==flip&&(document.body.style.background="linear-gradient(#000 0%, #40407a 40%, #40407a 60%, #000 100%)"))}else CallInfo()}function Aclick(){this==arrowl?(hind--,Htrans()):this==arrowr&&(hind++,Htrans())}function Htrans(){var e=horleftpos-hind*horlefttrans,t=allverleftpos-hind*allverlefttrans;hor.style.left=e+"px",allver.style.left=t+"px";for(var i=0;i<horbut.length;i++)horbut[i].classList.remove("horizontal__selected"),horbut[i].classList.add("horizontal__selectable");horbut[hind].classList.remove("horizontal__selectable"),horbut[hind].classList.add("horizontal__selected"),0==hind?arrowl.style.width=0:hind==horbut.length-1?arrowr.style.width=0:(arrowl.style.width="20px",arrowr.style.width="20px");for(var r=0;r<ver.length;r++)ver[r].style.opacity=0,ver[r].style.width=0;ver[hind].style.opacity=1,ver[hind].style.width="auto"}function Vtrans(){var e=0-vind[hind]*vertoptrans;ver[hind].style.top=e+"px";for(var t=0;t<verbut[hind].length;t++)verbut[hind][t].classList.remove("vertical__selected"),verbut[hind][t].classList.add("vertical__selectable");verbut[hind][vind[hind]].classList.remove("vertical__selectable"),verbut[hind][vind[hind]].classList.add("vertical__selected")}function CallInfo(){scroll=!1,group[hind].style.transform="scale(1)",info[hind][vind[hind]].style.transform="scale(1)",info[hind][vind[hind]].style.opacity="1",main.style.zIndex="30",tapfield[hind].style.height="100vh",allver.style.left=-vw+"px",hor.style.top=-vh+"px",allver.style.opacity=0,hor.style.opacity=0;var e=document.createElement("div");e.className="close",e.innerHTML="X",info[hind][vind[hind]].prepend(e),arrowl.style.width="0px",arrowr.style.width="0px",tapfield[hind].addEventListener("click",CloseInfo,!1),document.querySelector(".close").addEventListener("click",CloseInfo,!1)}function CloseInfo(){tapfield[hind].removeEventListener("click",CloseInfo,!1),scroll=!0,group[hind].style.transform="scale(0)",info[hind][vind[hind]].style.transform="scale(0)",info[hind][vind[hind]].style.opacity="0",main.style.zIndex="0",tapfield[hind].style.height="0",Vtrans(),Htrans(),hor.style.top=hortoppos+"px",allver.style.opacity=1,hor.style.opacity=1,document.querySelector(".close").removeEventListener("click",CloseInfo,!1),document.querySelector(".close").remove(),arrowl.style.width="20px",arrowr.style.width="20px",0==hind?arrowl.style.width=0:hind==horbut.length-1?arrowr.style.width=0:(arrowl.style.width="20px",arrowr.style.width="20px")}arrowl.addEventListener("click",Aclick,!1),arrowr.addEventListener("click",Aclick,!1);var d=document;function onWheel(e){if(scroll){var t=e.deltaY||e.detail||e.wheelDelta;verbut[hind].length>1&&(vind[hind]<1?t>0&&vind[hind]++:vind[hind]<verbut[hind].length-1?t>0?vind[hind]++:vind[hind]--:t<0&&vind[hind]--,Vtrans())}}d.addEventListener?"onwheel"in document?d.addEventListener("wheel",onWheel):"onmousewheel"in document?d.addEventListener("mousewheel",onWheel):d.addEventListener("MozMousePixelScroll",onWheel):d.attachEvent("onmousewheel",onWheel),document.addEventListener("mousedown",Swipe,!1),document.addEventListener("mousemove",MouseMove,!1);var X,Y,hind0,vind0,x0,y0,x,y,horswi,verswi,swipeInterval1,swipeInterval2,swi=100,isClick=!0,swiTarget=0;function MouseMove(e){X=e.pageX,Y=e.pageY}function Swipe(e){isClick=!0,hind0=hind,vind0=vind[hind],x0=X,y0=Y,swipeInterval1=setInterval((function(){verswi=(y=Y)-y0,((horswi=(x=X)-x0)>swi/2||horswi<-swi/2||verswi>swi/2||verswi<-swi/2)&&(isClick=!1,Math.abs(horswi)>Math.abs(verswi)?(swiTarget="hor",console.log("horizontal swipe")):(swiTarget="ver",console.log("vertical swipe")))}),50),swipeInterval2=setInterval((function(){var e,t;0!==swiTarget&&(clearInterval(swipeInterval1),"hor"==swiTarget?(hind=(e=hind0-(horswi-horswi%swi)/swi)<=0?0:e>horbut.length-1?horbut.length-1:e,Htrans(),horswi=(x=X)-x0):((t=vind0-(verswi-verswi%swi)/swi)<=0?vind[hind]=0:t>verbut[hind].length-1?vind[hind]=verbut[hind].length-1:vind[hind]=t,Vtrans(),verswi=(y=Y)-y0))}),50),document.addEventListener("mouseup",EndSwipe,!1)}function EndSwipe(){clearInterval(swipeInterval1),clearInterval(swipeInterval2),swiTarget=0}function TouchStart(e){x0=e.touches[0].pageX,y0=e.touches[0].pageY,console.log(x0+":"+y0),isClick=!0,hind0=hind,vind0=vind[hind]}function TouchMove(e){var t,i;(e.preventDefault(),X=e.changedTouches[0].pageX,Y=e.changedTouches[0].pageY,console.log(X+":"+Y),verswi=Y-y0,((horswi=X-x0)>swi/2||horswi<-swi/2||verswi>swi/2||verswi<-swi/2)&&(isClick=!1,Math.abs(horswi)>Math.abs(verswi)?(swiTarget="hor",console.log("horizontal swipe")):(swiTarget="ver",console.log("vertical swipe"))),0!==swiTarget)&&("hor"==swiTarget?(hind=(t=hind0-(horswi-horswi%swi)/swi)<=0?0:t>horbut.length-1?horbut.length-1:t,Htrans(),horswi=(x=X)-x0):((i=vind0-(verswi-verswi%(.5*swi))/(.5*swi))<=0?vind[hind]=0:i>verbut[hind].length-1?vind[hind]=verbut[hind].length-1:vind[hind]=i,Vtrans(),verswi=(y=Y)-y0))}function TouchEnd(e){swiTarget=0}document.addEventListener("touchstart",TouchStart,!1),document.addEventListener("touchmove",TouchMove,!1),document.addEventListener("touchend",TouchEnd,!1);