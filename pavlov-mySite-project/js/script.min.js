"use strict";for(var d=document,hi=d.querySelector(".hi"),win=d.querySelectorAll(".win"),waves=d.querySelector(".waves"),wrapper=d.querySelector(".wrapper"),arrowL=d.querySelector(".arrow_left"),arrowR=d.querySelector(".arrow_right"),hor=d.querySelector(".horizontal"),allVer=d.querySelector(".allvertical"),ver=d.querySelectorAll(".vertical"),horBut=d.querySelectorAll(".horizontal__button"),group=d.querySelectorAll(".group"),tapfield=d.querySelectorAll(".tapfield"),main=d.querySelector(".main"),verBut=[],info=[],i=0;i<ver.length;i++)verBut[i]=ver[i].querySelectorAll(".vertical__button");for(var _i=0;_i<group.length;_i++)info[_i]=group[_i].querySelectorAll(".info");var localQuality=localStorage.getItem("needQuality");if("false"==localQuality){waves.remove();var ct=d.querySelector(".colortheme");document.body.style.background="#111",ct.classList.remove(".typeflip"),ct.classList.add("typenoclick"),ct.querySelector(".vertical__text").innerHTML="Недоступно";var f=ct.querySelectorAll(".flip");f[0].style.backgroundColor="#000",d.querySelector(".quality").querySelector(".vertical__text").innerHTML="Повысить качество",d.querySelector(".horizontal__button_7").style.animation="none"}var flip=0,localColor=localStorage.getItem("colorTheme");if("blue"==localColor&&"false"!==localQuality){flip=1,document.body.style.background="linear-gradient(#000 0%, #40407a 40%, #40407a 60%, #000 100%)";var _f=d.querySelector(".colortheme").querySelectorAll(".flip");_f[0].style.transform="rotateY(180deg)",_f[1].style.transform="rotateY(360deg)"}var hind=0,vind=[0,0,0,0,0,0,0,0,0,0,0,0],mouseDownPermission=!1,clickPermission=!1,scrollPermission=!1,swipePermission=!1,keyDownPermission=!1,isPopUpOpen=!1,hiOn=setTimeout((function(){hi.style.opacity=1,clearTimeout(hiOn)}),1e3),hiOff=setTimeout((function(){hi.style.opacity=0,clearTimeout(hiOff)}),3e3),wrapperOn=setTimeout((function(){wrapper.style.opacity=1,mouseDownPermission=!0,clickPermission=!0,scrollPermission=!0,swipePermission=!0,keyDownPermission=!0,clearTimeout(wrapperOn)}),3500);window.addEventListener("resize",Resize);var horLeftPos,allVerLeftPos,horTopPos,allVerTopPos,horLeftTrans,allVerLeftTrans,verTopTrans,vw=window.innerWidth,vh=window.innerHeight;function Resize(){vw=window.innerWidth,vh=window.innerHeight,vw<768?(horLeftPos=0,allVerLeftPos=0,horLeftTrans=vw,allVerLeftTrans=150,horTopPos=30,allVerTopPos=100,verTopTrans=100):(horLeftPos=.3*vw,allVerLeftPos=.3*vw,horLeftTrans=150,allVerLeftTrans=150,horTopPos=.3*vh,allVerTopPos=.3*vh,verTopTrans=100),HorTrans(),VerTrans(),ArrowsRules()}Resize();for(var _i2=0;_i2<horBut.length;_i2++)horBut[_i2].addEventListener("click",HorButClick,!1);for(var _i3=0;_i3<ver.length;_i3++)for(var j=0;j<verBut[_i3].length;j++)verBut[_i3][j].addEventListener("click",VerButClick,!1);function HorButClick(){if(clickPermission){HorMakeSelectable(),AllVerMakeSelectable();for(var e=0;e<horBut.length;e++)this==horBut[e]&&(hind=e);HorTrans(),HorMakeSelected(),AllVerMakeSelected()}}function VerButClick(e){if(clickPermission){var r;this!==verBut[hind][vind[hind]]&&(r=!0),VerMakeSelectable();for(var i=0;i<verBut[hind].length;i++)this==verBut[hind][i]&&(vind[hind]=i);if(VerTrans(),VerMakeSelected(),!this.classList.contains("typenoclick")&&!this.classList.contains("typelink"))if(this.classList.contains("typeflip"))FlipIcon();else if(this.classList.contains("quality"))"false"==localQuality?(localStorage.setItem("needQuality","true"),location.reload()):(localStorage.setItem("needQuality","false"),location.reload());else if(r)var t=setTimeout((function(){CallPopUp(),clearTimeout(t)}),200);else CallPopUp()}}function onWheel(e){if(scrollPermission){var r=e.deltaY||e.detail||e.wheelDelta;verBut[hind].length>1&&(vind[hind]<1?r>0&&(VerMakeSelectable(),vind[hind]++):vind[hind]<verBut[hind].length-1?r>0?(VerMakeSelectable(),vind[hind]++):(VerMakeSelectable(),vind[hind]--):r<0&&(VerMakeSelectable(),vind[hind]--),VerMakeSelected(),VerTrans())}}d.addEventListener?"onwheel"in document?d.addEventListener("wheel",onWheel):"onmousewheel"in document?d.addEventListener("mousewheel",onWheel):d.addEventListener("MozMousePixelScroll",onWheel):d.attachEvent("onmousewheel",onWheel),d.addEventListener("touchstart",TouchStart,!1),setTimeout((function(){d.addEventListener("touchmove",TouchMove,!1)}),0),d.addEventListener("touchend",TouchEnd,!1),d.addEventListener("keydown",KeyDown,!1);var X,Y,hind0,vind0,x0,y0,x,y,horswi,verswi,swipeInterval1,swipeInterval2,swi=100,swiTarget=(clickPermission=!0,0);function MouseMove(e){X=e.pageX,Y=e.pageY}function MouseDown(e){clickPermission=!0,hind0=hind,vind0=vind[hind],x0=X,y0=Y,swipeInterval1=setInterval((function(){verswi=(y=Y)-y0,((horswi=(x=X)-x0)>swi/2||horswi<-swi/2||verswi>swi/2||verswi<-swi/2)&&(clickPermission=!1,swiTarget=Math.abs(horswi)>Math.abs(verswi)?"hor":"ver")}),50),swipeInterval2=setInterval((function(){var e,r;0!==swiTarget&&(clearInterval(swipeInterval1),"hor"==swiTarget?(hind=(e=hind0-(horswi-horswi%swi)/swi)<=0?0:e>horBut.length-1?horBut.length-1:e,HorTrans(),horswi=(x=X)-x0):((r=vind0-(verswi-verswi%swi)/swi)<=0?vind[hind]=0:r>verBut[hind].length-1?vind[hind]=verBut[hind].length-1:vind[hind]=r,VerTrans(),verswi=(y=Y)-y0))}),50),document.addEventListener("mouseup",MouseUp,!1)}function MouseUp(){clearInterval(swipeInterval1),clearInterval(swipeInterval2),swiTarget=0}function TouchStart(e){clickPermission=!0,x0=e.touches[0].pageX,y0=e.touches[0].pageY,clickPermission=!0,hind0=hind,vind0=vind[hind]}function TouchMove(e){var r,i;(e.preventDefault(),X=e.changedTouches[0].pageX,Y=e.changedTouches[0].pageY,verswi=Y-y0,((horswi=X-x0)>swi/2||horswi<-swi/2||verswi>swi/2||verswi<-swi/2)&&(clickPermission=!1,swiTarget=Math.abs(horswi)>Math.abs(verswi)?"hor":"ver"),0!==swiTarget)&&("hor"==swiTarget?vw<768?(HorMakeSelectable(),AllVerMakeSelectable(),horswi<0&&hind0<horBut.length-1?hind=hind0+1:horswi>0&&hind0>0&&(hind=hind0-1),HorMakeSelected(),AllVerMakeSelected(),HorTrans()):(r=hind0-(horswi-horswi%swi)/swi,HorMakeSelectable(),AllVerMakeSelectable(),hind=r<=0?0:r>horBut.length-1?horBut.length-1:r,HorMakeSelected(),AllVerMakeSelected(),HorTrans()):(i=vind0-(verswi-verswi%(.5*swi))/(.5*swi),VerMakeSelectable(),i<=0?vind[hind]=0:i>verBut[hind].length-1?vind[hind]=verBut[hind].length-1:vind[hind]=i,VerMakeSelected(),VerTrans()))}function TouchEnd(e){swiTarget=0}function KeyDown(e){var r=e.key;keyDownPermission&&("ArrowLeft"==r?hind<1||(horBut.length,HorMakeSelectable(),AllVerMakeSelectable(),hind--,HorMakeSelected(),AllVerMakeSelected(),HorTrans()):"ArrowUp"==r?verBut[hind].length>1&&(vind[hind]<1||(vind[hind],verBut[hind].length,VerMakeSelectable(),vind[hind]--,VerTrans(),VerMakeSelected())):"ArrowRight"==r?(hind<1||hind<horBut.length-1)&&(HorMakeSelectable(),AllVerMakeSelectable(),hind++,HorMakeSelected(),AllVerMakeSelected(),HorTrans()):"ArrowDown"==r?verBut[hind].length>1&&(vind[hind]<1||vind[hind]<verBut[hind].length-1)&&(VerMakeSelectable(),vind[hind]++,VerTrans(),VerMakeSelected()):13==e.keyCode&&verBut[hind][vind[hind]].click())}function EnterClose(e){27!=e.keyCode&&8!=e.keyCode||ClosePopUp()}function AllVerMakeSelectable(){ver[hind].classList.remove("allvertical__selected"),ver[hind].classList.add("allvertical__selectable")}function AllVerMakeSelected(){ver[hind].classList.remove("allvertical__selectable"),ver[hind].classList.add("allvertical__selected")}function HorMakeSelectable(){horBut[hind].classList.remove("horizontal__selected"),horBut[hind].classList.add("horizontal__selectable")}function HorMakeSelected(){horBut[hind].classList.remove("horizontal__selectable"),horBut[hind].classList.add("horizontal__selected")}function VerMakeSelectable(){verBut[hind][vind[hind]].classList.remove("vertical__selected"),verBut[hind][vind[hind]].classList.add("vertical__selectable")}function VerMakeSelected(){verBut[hind][vind[hind]].classList.remove("vertical__selectable"),verBut[hind][vind[hind]].classList.add("vertical__selected")}function HorTrans(){var e=horLeftPos-horLeftTrans*hind,r=allVerLeftPos-allVerLeftTrans*hind;hor.style.left=e+"px",allVer.style.left=r+"px",WinChange(),ArrowsRules()}function VerTrans(){var e=0-vind[hind]*verTopTrans;ver[hind].style.top=e+"px"}function ArrowsRules(){vw<768&&(0==hind?(arrowL.style.width=0,arrowR.style.width="20px"):hind==horBut.length-1?(arrowR.style.width=0,arrowL.style.width="20px"):(arrowL.style.width="20px",arrowR.style.width="20px"))}function WinChange(){for(var e=0;e<win.length;e++)win[e].classList.remove("win_selected");win[hind].classList.add("win_selected")}function CallPopUp(){isPopUpOpen=!0,clickPermission=!1,scrollPermission=!1,swipePermission=!1,mouseDownPermission=!1,hor.style.opacity=0,allVer.style.opacity=0,arrowL.style.width="0px",arrowR.style.width="0px",group[hind].style.transform="scale(1)",info[hind][vind[hind]].style.transform="scale(1)",main.style.zIndex="30",tapfield[hind].style.height="100vh";var e=document.createElement("div");e.className="close",e.innerHTML="X",info[hind][vind[hind]].prepend(e),tapfield[hind].addEventListener("click",ClosePopUp,!1),document.querySelector(".close").addEventListener("click",ClosePopUp,!1),d.addEventListener("keyup",EnterClose,!1)}function ClosePopUp(){tapfield[hind].removeEventListener("click",ClosePopUp,!1),document.querySelector(".close").removeEventListener("click",ClosePopUp,!1),d.removeEventListener("keyup",EnterClose,!1),document.querySelector(".close").remove(),group[hind].style.transform="scale(0)",info[hind][vind[hind]].style.transform="scale(0)",main.style.zIndex="0",tapfield[hind].style.height="0",allVer.style.opacity=1,hor.style.opacity=1,ArrowsRules(),clickPermission=!0,scrollPermission=!0,swipePermission=!0,mouseDownPermission=!0,keyDownPermission=!0,isPopUpOpen=!1}function FlipIcon(){var e=verBut[hind][vind[hind]].querySelectorAll(".flip");0==flip?(flip=1,e[0].style.transform="rotateY(180deg)",e[1].style.transform="rotateY(360deg)"):(flip=0,e[0].style.transform="rotateY(0deg)",e[1].style.transform="rotateY(180deg)"),verBut[hind][vind[hind]].classList.contains("colortheme")&&("blue"==localColor?(localStorage.setItem("colorTheme","red"),document.body.style.background="linear-gradient(#000 0%, #b33939 40%, #b33939 60%, #000 100%)"):(localStorage.setItem("colorTheme","blue"),document.body.style.background="linear-gradient(#000 0%, #40407a 40%, #40407a 60%, #000 100%)"),localColor=localStorage.getItem("colorTheme"))}