"use strict";for(var d=document,hi=d.querySelector(".hi"),waves=d.querySelector(".waves"),wrapper=d.querySelector(".wrapper"),arrowL=d.querySelector(".arrow_left"),arrowR=d.querySelector(".arrow_right"),hor=d.querySelector(".horizontal"),allVer=d.querySelector(".allvertical"),ver=d.querySelectorAll(".vertical"),horBut=d.querySelectorAll(".horizontal__button"),group=d.querySelectorAll(".group"),tapfield=d.querySelectorAll(".tapfield"),main=d.querySelector(".main"),verBut=[],info=[],i=0;i<ver.length;i++)verBut[i]=ver[i].querySelectorAll(".vertical__button");for(var _i=0;_i<group.length;_i++)info[_i]=group[_i].querySelectorAll(".info");var local=localStorage.getItem("needWaves");if(console.log(local),"false"==local){console.log("deleted"),waves.remove();var ct=d.querySelector(".colortheme");document.body.style.background="#000",ct.classList.remove(".typeflip"),ct.classList.add("typenoclick"),ct.querySelector(".vertical__text").innerHTML="Не доступно";var f=ct.querySelectorAll(".flip");f[0].style.backgroundColor="#000",f[1].style.backgroundColor="#000",d.querySelector(".quality").querySelector(".vertical__text").innerHTML="Повысить качество",d.querySelector(".horizontal__button_7").style.animation="none"}var hind=0,vind=[0,0,0,0,0,0,0,0,0,0,0,0],mouseDownPermission=!1,clickPermission=!1,scrollPermission=!1,swipePermission=!1,keyDownPermission=!1,isPopUpOpen=!1,flip=0,hiOn=setTimeout((function(){hi.style.opacity=1,clearTimeout(hiOn)}),1e3),hiOff=setTimeout((function(){hi.style.opacity=0,clearTimeout(hiOff)}),3e3),wrapperOn=setTimeout((function(){wrapper.style.opacity=1,mouseDownPermission=!0,clickPermission=!0,scrollPermission=!0,swipePermission=!0,keyDownPermission=!0,clearTimeout(wrapperOn)}),3500);window.addEventListener("resize",Resize);var horLeftPos,allVerLeftPos,horTopPos,allVerTopPos,horLeftTrans,allVerLeftTrans,verTopTrans,vw=window.innerWidth,vh=window.innerHeight;function Resize(){vw=window.innerWidth,vh=window.innerHeight,vw<768?(horLeftPos=0,allVerLeftPos=0,horLeftTrans=vw,allVerLeftTrans=150,horTopPos=30,allVerTopPos=100,verTopTrans=100):(horLeftPos=.3*vw,allVerLeftPos=.3*vw,horLeftTrans=150,allVerLeftTrans=150,horTopPos=.3*vh,allVerTopPos=.3*vh,verTopTrans=100)}Resize();for(var _i2=0;_i2<horBut.length;_i2++)horBut[_i2].addEventListener("click",HorButClick,!1);for(var _i3=0;_i3<ver.length;_i3++)for(var j=0;j<verBut[_i3].length;j++)verBut[_i3][j].addEventListener("click",VerButclick,!1);function HorButClick(){if(clickPermission){HorMakeSelectable(),AllVerMakeSelectable();for(var e=0;e<horBut.length;e++)this==horBut[e]&&(hind=e);HorTrans(),HorMakeSelected(),AllVerMakeSelected(),ArrowsRules()}}function VerButclick(e){if(clickPermission){if(VerMakeSelectable(),this!==verBut[hind][vind[hind]]){e.preventDefault();for(var r=0;r<verBut[hind].length;r++)this==verBut[hind][r]&&(vind[hind]=r);VerTrans()}else this.classList.contains("typenoclick")||this.classList.contains("typelink")||(this.classList.contains("typeflip")?FlipIcon():this.classList.contains("quality")?"true"==local?(localStorage.setItem("needWaves","false"),location.reload()):(localStorage.setItem("needWaves","true"),location.reload()):CallPopUp());VerMakeSelected()}}function onWheel(e){if(scrollPermission){var r=e.deltaY||e.detail||e.wheelDelta;verBut[hind].length>1&&(vind[hind]<1?r>0&&(VerMakeSelectable(),vind[hind]++):vind[hind]<verBut[hind].length-1?r>0?(VerMakeSelectable(),vind[hind]++):(VerMakeSelectable(),vind[hind]--):r<0&&(VerMakeSelectable(),vind[hind]--),VerMakeSelected(),VerTrans())}}d.addEventListener?"onwheel"in document?d.addEventListener("wheel",onWheel):"onmousewheel"in document?d.addEventListener("mousewheel",onWheel):d.addEventListener("MozMousePixelScroll",onWheel):d.attachEvent("onmousewheel",onWheel),d.addEventListener("touchstart",TouchStart,!1),d.addEventListener("touchmove",TouchMove,!1),d.addEventListener("touchend",TouchEnd,!1),d.addEventListener("mousedown",MouseDown,!1),d.addEventListener("mousemove",MouseMove,!1),d.addEventListener("mouseup",MouseUp,!1),d.addEventListener("keydown",KeyDown,!1);var X,Y,hind0,vind0,x0,y0,x,y,horSwi,verSwi,swipeInterval1,swipeInterval2,isThisSwipe=!1,swi=100,swiTarget=0;function TouchStart(e){}function TouchMove(e){}function TouchEnd(e){}function MouseDown(e){mouseDownPermission&&(isThisSwipe=!1,hind0=hind,vind0=vind[hind],x0=X,y0=Y,swipeInterval1=setInterval((function(){verSwi=(y=Y)-y0,((horSwi=(x=X)-x0)>swi/2||horSwi<-swi/2||verSwi>swi/2||verSwi<-swi/2)&&(isThisSwipe=!0,clickPermission=!1,scrollPermission=!1,keyDownPermission=!1,Math.abs(horSwi)>Math.abs(verSwi)?(swiTarget="hor",console.log("horizontal swipe")):(swiTarget="ver",console.log("vertical swipe")))}),50),swipeInterval2=setInterval((function(){var e,r;0!==swiTarget&&(clearInterval(swipeInterval1),"hor"==swiTarget?((e=hind0-(horSwi-horSwi%swi)/swi)<=0?(HorMakeSelectable(),AllVerMakeSelectable(),hind=0,HorMakeSelected(),AllVerMakeSelected()):e>horBut.length-1?(HorMakeSelectable(),AllVerMakeSelectable(),hind=horBut.length-1,HorMakeSelected(),AllVerMakeSelected()):(HorMakeSelectable(),AllVerMakeSelectable(),hind=e,HorMakeSelected(),AllVerMakeSelected()),HorTrans(),horSwi=(x=X)-x0):((r=vind0-(verSwi-verSwi%swi)/swi)<=0?(VerMakeSelectable(),vind[hind]=0,VerMakeSelected()):r>verBut[hind].length-1?(VerMakeSelectable(),vind[hind]=verBut[hind].length-1,VerMakeSelected()):(VerMakeSelectable(),vind[hind]=r,VerMakeSelected()),VerTrans(),verSwi=(y=Y)-y0))}),50))}function MouseMove(e){X=e.pageX,Y=e.pageY}function MouseUp(e){isThisSwipe&&(clickPermission=!0,scrollPermission=!0,keyDownPermission=!0),clearInterval(swipeInterval1),clearInterval(swipeInterval2),swiTarget=0}function KeyDown(e){var r=e.key;keyDownPermission&&("ArrowLeft"==r?hind<1||(horBut.length,HorMakeSelectable(),AllVerMakeSelectable(),hind--,HorMakeSelected(),AllVerMakeSelected(),HorTrans()):"ArrowUp"==r?verBut[hind].length>1&&(vind[hind]<1||(vind[hind],verBut[hind].length,VerMakeSelectable(),vind[hind]--,VerTrans(),VerMakeSelected())):"ArrowRight"==r?(hind<1||hind<horBut.length-1)&&(HorMakeSelectable(),AllVerMakeSelectable(),hind++,HorMakeSelected(),AllVerMakeSelected(),HorTrans()):"ArrowDown"==r?verBut[hind].length>1&&(vind[hind]<1||vind[hind]<verBut[hind].length-1)&&(VerMakeSelectable(),vind[hind]++,VerTrans(),VerMakeSelected()):13==e.keyCode&&verBut[hind][vind[hind]].click())}function EnterClose(e){27!=e.keyCode&&8!=e.keyCode||ClosePopUp()}function AllVerMakeSelectable(){ver[hind].classList.remove("allvertical__selected"),ver[hind].classList.add("allvertical__selectable")}function AllVerMakeSelected(){ver[hind].classList.remove("allvertical__selectable"),ver[hind].classList.add("allvertical__selected")}function HorMakeSelectable(){horBut[hind].classList.remove("horizontal__selected"),horBut[hind].classList.add("horizontal__selectable")}function HorMakeSelected(){horBut[hind].classList.remove("horizontal__selectable"),horBut[hind].classList.add("horizontal__selected")}function VerMakeSelectable(){verBut[hind][vind[hind]].classList.remove("vertical__selected"),verBut[hind][vind[hind]].classList.add("vertical__selectable")}function VerMakeSelected(){verBut[hind][vind[hind]].classList.remove("vertical__selectable"),verBut[hind][vind[hind]].classList.add("vertical__selected")}function HorTrans(){var e=horLeftPos-horLeftTrans*hind,r=allVerLeftPos-allVerLeftTrans*hind;hor.style.left=e+"px",allVer.style.left=r+"px"}function VerTrans(){var e=0-vind[hind]*verTopTrans;ver[hind].style.top=e+"px"}function ArrowsRules(){vw<768&&(0==hind?(arrowL.style.width=0,arrowR.style.width="20px"):hind==horBut.length-1?(arrowR.style.width=0,arrowL.style.width="20px"):(arrowL.style.width="20px",arrowR.style.width="20px"))}function CallPopUp(){isPopUpOpen=!0,clickPermission=!1,scrollPermission=!1,swipePermission=!1,mouseDownPermission=!1,hor.style.opacity=0,allVer.style.opacity=0,arrowL.style.width="0px",arrowR.style.width="0px",group[hind].style.transform="scale(1)",info[hind][vind[hind]].style.transform="scale(1)",main.style.zIndex="30",tapfield[hind].style.height="100vh";var e=document.createElement("div");e.className="close",e.innerHTML="X",info[hind][vind[hind]].prepend(e),tapfield[hind].addEventListener("click",ClosePopUp,!1),document.querySelector(".close").addEventListener("click",ClosePopUp,!1),d.addEventListener("keyup",EnterClose,!1)}function ClosePopUp(){tapfield[hind].removeEventListener("click",ClosePopUp,!1),document.querySelector(".close").removeEventListener("click",ClosePopUp,!1),d.removeEventListener("keyup",EnterClose,!1),document.querySelector(".close").remove(),group[hind].style.transform="scale(0)",info[hind][vind[hind]].style.transform="scale(0)",main.style.zIndex="0",tapfield[hind].style.height="0",allVer.style.opacity=1,hor.style.opacity=1,ArrowsRules(),clickPermission=!0,scrollPermission=!0,swipePermission=!0,mouseDownPermission=!0,keyDownPermission=!0,isPopUpOpen=!1}function FlipIcon(){var e=verBut[hind][vind[hind]].querySelectorAll(".flip");0==flip?(flip=1,e[0].style.transform="rotateY(180deg)",e[1].style.transform="rotateY(360deg)"):(flip=0,e[0].style.transform="rotateY(0deg)",e[1].style.transform="rotateY(180deg)"),verBut[hind][vind[hind]].classList.contains("colortheme")&&(0==flip&&(document.body.style.background="linear-gradient(#000 0%, #b33939 40%, #b33939 60%, #000 100%)"),1==flip&&(document.body.style.background="linear-gradient(#000 0%, #40407a 40%, #40407a 60%, #000 100%)"))}